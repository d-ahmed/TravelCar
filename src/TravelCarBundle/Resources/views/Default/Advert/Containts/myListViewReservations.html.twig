{% trans_default_domain 'TravelCarBundle' %}

{% if reservations is not empty %}
    <div class="list-group">
        {% for reservation in reservations %}
            <a href="{{path('view_advert', {'id':reservation.advert.id})}}" class="list-group-item">
                <div class="row">
                    <div style="border-left: solid; border-width: 0.5px;" class="col-md-9">
                        <h4 class="list-group-item-heading">

                            {% if reservation.advert.departureDate.format("d/m/Y") == 'now'| date("d/m/Y") %}

                            Aujourd'hui à {{ reservation.advert.departureTime }} </h4>

                        {% elseif reservation.advert.departureDate.format("d/m/Y") == date().modify('+1 day').format("d/m/Y") %}

                            Demain à {{ reservation.advert.departureTime}} </h4>

                        {% else %}
                            {{ reservation.advert.departureDate|date('d/m/Y')}} à {{ reservation.advert.departureTime}}</h4>
                        {% endif %}

                        <small class="list-group-item-text">{{ reservation.advert.departureCity }} <span class="glyphicon glyphicon-arrow-right "></span> {{ reservation.advert.cityOfArrival }}</small>
                        <br/>
                        <small><span class="glyphicon glyphicon-record text-primary"></span> RDV à {{ reservation.advert.departureCity }} </small>
                        <br/>
                        <small><span class="glyphicon glyphicon-record text-danger"></span> {{ reservation.advert.cityOfArrival }} </small>
                    </div>
                    <div class="col-md-3">
                        {% if reservation.advert.departureDate > date("now") %}
                            <p><span class="glyphicon glyphicon-user text-primary"></span> {{ reservation.advert.numberOfPlace - reservation.advert.numberOfReservation }} places disponibles.</p>
                            <p><span class="glyphicon glyphicon-time text-primary"></span> Voyage à venir. </p>
                        {% else %}
                            <p><span class="glyphicon glyphicon-user text-primary"></span>  {{ reservation.advert.numberOfReservation }} {% if reservation.advert.numberOfReservation<2 %} reservation {% else %} reservations {% endif %}.</p>
                            <p><span class="glyphicon glyphicon-ok text-success"></span> Voyage effectué.</p>
                        {% endif %}
                    </div>
                </div>
            </a>

        {% endfor %}
    </div>
    <ul class="pagination"></ul>
{% else %}
    <div class="form form-group">
        Pas de réponse
    </div>
{% endif %}